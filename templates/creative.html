{% extends "base.html" %}
{% block title %}Creative Charts{% endblock %}

{% block content %}
  <h1 class="mb-4">Airline Sentiment Dashboard</h1>

  <div class="mb-3">
    <label for="airline-select" class="form-label">Filter by Airline</label>
    <select id="airline-select" class="form-select w-auto">
      <option>All</option>
      <option>United</option>
      <option>American</option>
      <option>Southwest</option>
      <option>Delta</option>
        <option>US Airways</option>
        <option>Virgin America</option>
    </select>
  </div>

  <div class="row">

    <div class="col-md-6">
      <h2>Sentiment Distribution</h2>
      <div id="chart-sentiment" class="chart-card"></div>
    </div>


    <div class="col-md-6">
      <h2>Negative Reasons Breakdown</h2>
      <div id="chart-reasons" class="chart-card"></div>
    </div>
  </div>
{% endblock %}

{% block scripts %}
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="/static/js/visualizations.js"></script>
  <script>
    const sel = document.getElementById("airline-select");

    sel.addEventListener("change", () => {
      const airline = sel.value;
      drawSentiment(airline);
      drawReasons(airline);
    });


    drawSentiment("All");
    drawReasons("All");
  </script>
{% endblock %}
